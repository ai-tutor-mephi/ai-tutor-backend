spring:
  application:
    name: ai-tutor-backend

  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/ai_tutor_db}
    username: ${SPRING_DATASOURCE_USERNAME:tutor_user}
    password: ${SPRING_DATASOURCE_PASSWORD:88888888}

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect

  servlet:
    multipart:
      max-file-size: 200MB
      max-request-size: 1GB

server:
  port: 8080

security:
  jwt:
    secret: ${SECURITY_JWT_SECRET:jbxAUJMPcDpMKDbrLrHTPUrPBnWsIggGxtHkGHYqCBCkpQDVrxSVVDlVKdrKSzzOqwyaAzsiEnBOatSZLJGVkSA}
    access-expiration: ${SECURITY_JWT_ACCESS_EXPIRATION:900}
    refresh-expiration: ${SECURITY_JWT_REFRESH_EXPIRATION:2592000}
    issuer: ${SECURITY_JWT_ISSUER:ai-tutor-backend}

app:
  minio:
    endpoint: ${APP_MINIO_ENDPOINT:http://localhost:9000}
    access-key: ${APP_MINIO_ACCESS_KEY:minioadmin}
    secret-key: ${APP_MINIO_SECRET_KEY:minioadmin}
    bucket-name: ${APP_MINIO_BUCKET:ai-tutor-files}
    region: ${APP_MINIO_REGION:us-east-1}

clients:
  rag:
    base-url: ${CLIENTS_RAG_BASE_URL:http://localhost:8000}
    connect-timeout: ${CLIENTS_RAG_CONNECT_TIMEOUT:2s}
    response-timeout: ${CLIENTS_RAG_RESPONSE_TIMEOUT:1200s}
    max-in-memory-size: ${CLIENTS_RAG_MAX_IN_MEMORY_SIZE:1MB}
    log-payloads: ${CLIENTS_RAG_LOG_PAYLOADS:true}
    retry:
      max-attempts: ${CLIENTS_RAG_RETRY_MAX_ATTEMPTS:3}
      backoff: ${CLIENTS_RAG_RETRY_BACKOFF:200ms}

logging:
  level:
    org.springframework.security: INFO
    org.springframework.security.web.FilterChainProxy: WARN
    org.springframework.web: INFO
